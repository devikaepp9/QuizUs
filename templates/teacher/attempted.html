{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <link rel ='icon' href="{% static 'images/logo.png' %}"/>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css2?family=Lora&family=Poppins:wght@100;200;300;400;600;700&display=swap"
    rel="stylesheet">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" 
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    
    <link rel="stylesheet" href="{% static 'css/student.css' %}">
    <meta charset="utf-8">
    <title>QuizzUS</title>

<style>
   
   
    
    

    {% comment %} table td:empty::before{content: "--"; color:red;} {% endcomment %}
        a.disabled1 {
             pointer-events: none;
            cursor: pointer;
            color: grey; 


        }
    .true a {
        color:#ff7e7e;
    }

    .non{
        color:red
    }
    .att{
        color:green
    }

    .content {
        position: absolute;
        top: 249px;
        left: 10%;
        width: 80%;
    }
    


        
    </style>


</head>

<body  onload="myFunction()">

    
    <!--header area start-->
    <div class="nav-container">

        <div class="logo">
            <h1 style="position: absolute;left: 13%;top: 20%;color:#6e2e9d;font-size: 38px;font-weight: 600;left: 50%;">QuizzUS</h1>
            <img src="{% static 'images/logo.png' %}"  alt="" style="position: relative;width: 101px;left: 43%;bottom: 9px;">

            
          </div>    </div>
          <label style="position: absolute;top: 12%;left: 11%;font-size: 36px;font-weight: 600;color: purple;"> Students Report</label>

<hr>
          <label style="position: absolute;top: 20%;left: 11%;font-size: 30px;font-weight: 600;color: purple;"> {{pk}}  Quiz</label>
          <label  style="position: absolute;
          top: 14%;
          left: 66%;font-size: 19px;font-weight: bold;color :purple;">Total Number Of Students : </label>
          <label style="position: absolute;
          top: 18%;
          left: 66%;font-size: 19px;font-weight: bold;color : #4caf50">Number of Students Attempted : </label>

          
          <label style="position: absolute;
          top: 20.5%;
          left: 66%;font-size: 19px;font-weight: bold;color:#ff5151">Number of Students Not Attempted : </label>

          <label id = "total"  style="position: absolute;
          top: 14%;
          left: 83%;
          font-size: 19px;
          font-weight: bold;color:purple ;"></label>

          <label id = "attemp"  style="position: absolute;
          top: 18%;
          left: 86%;
          font-size: 19px;
          font-weight: bold;color: #4caf50;"></label>

          <label id = "sub"  style="position: absolute;
          top: 20.5%;
          left: 88.3%;
          font-size: 19px;
          font-weight: bold;color:#ff5151 ;"></label>



          <label style="position: absolute;top: 20%;left: 11%;font-size: 30px;font-weight: 600;color: purple;"> {{pk}}  Quiz</label>

   
          {% comment %} <div class="progress" style="/* position: relative; *//* bottom: 50%; */position: absolute;width: 500px;top: 16%;height: 50px;border: 1px solid;color: #b1b119;left: 35%;">
            <div class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
          </div> {% endcomment %}
    

          <progress id="bar" value="" max=""  style="position: absolute;top: 16%;width: 25%;left: 40%;height: 55px;">

           
          </progress>
          <label id = "pt"  style="position: absolute;
          top: 18%;
          left: 41%;
          font-size: 19px;
          font-weight: bold;color: #447a48;"></label>


    <div class="content">
    
            <div class="row" id ="row" style="background:white">
                
                            <table name ="mytab"class="table " id ="tab">
                

                                <thead bgcolor = "#a721e6e8" >
                                    <tr>
                                        <th scope="col" style="text-align: center;">Sr. No.</th>
                                        <th scope="col" style="text-align: center;">Student Name</th>
                                        <th scope="col" style="text-align: center;">Status</th>
                                        <th scope="col" style="text-align: center;">Score</th>
                                        <th scope="col" style="text-align: center;">Correct</th>
                                        <th scope="col"style="text-align: center;">InCorrect</th>
                                        <th scope="col" style="position: relative;width: 28%;text-align: center;" >Percentage</th>








                                        

                                    </tr>
                                </thead>
                                
                                <tbody>
                                    {% for i in s %}
                                    <tr id = "ro">
                                      
                                    
                                        <th scope="row">{{ forloop.counter }}</th>
                                      
                                        <td><a   id="name" >{{i.studentname}}</a></td>


                                        

                                        <td 
                                        id="time" {% for y in c%} {% if i.studentemail == y.Student and y.QuizName == pk %} class ="att" id="abc" {% endif %} {%endfor%}>               
                                         
                                        <img src = "{% static 'images/cancel.png' %}" style="position: absolute; width: 2%;left: 34.5%;">
                                         {% for y in c%}
                                        <img src="
                                                {% if y.Student == i.studentemail and y.QuizName == pk %}
                                                {% static 'images/checked.png' %} 
                                                {% endif   %} 
                                                "  alt="" style="position: absolute; width: 2.2%;left: 34.5%;" >
                                                {% endfor %}
                                        </td>
                                        


                                        <td  {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %} class ="att" {% endif %}{%endfor%} style="text-align: center;">                                            
                                            {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %}{{y.Score}}/{{y.Total_Marks}}{% endif %}{%endfor%}
                                        
                                        </td>

                                        <td  {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %} class ="att" {% endif %}{%endfor%} style="text-align: center;">  
                                            
                                            {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %}{{y.Correct}}{% endif %}{%endfor%}
                                        
                                        </td>

                                        <td  {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %} class ="att"  {% endif %}{%endfor%} style="text-align: center;" >
                                            
                                            {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %}{{y.Incorrect}}{% endif %}{%endfor%}
                                        
                                        </td>


                                        <td  {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %} class ="att" id="abc" {% endif %}{%endfor%} >
                                            
                                            {% for y in c%}{% if i.studentemail == y.Student and y.QuizName == pk %}{{y.Percentage}}% &nbsp<progress value="{{y.Percentage}}" max="100"></progress> {% endif %}{%endfor%}
                                        
                                        </td>

                                        
                                        
                                       
                                        
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                     
            </div>
    </div>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


    <script>
function myFunction() {
var abc =  document.querySelectorAll('#ro').length;
console.log(abc)      
var abc1 =  document.querySelectorAll('#abc').length;
console.log(abc1)      
document.getElementById("bar").value = abc1;
document.getElementById("bar").max = abc;

document.getElementById("total").innerHTML = abc;
document.getElementById("attemp").innerHTML = abc1;
document.getElementById("pt").innerHTML = abc1;


var sub = abc - abc1;
document.getElementById("sub").innerHTML = sub;

console.log(sub)
    
}
    </script>




</body>

</html>